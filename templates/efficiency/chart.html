<div>
  <canvas id="{{.workcenter}}"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>

<script>
  new Chart(document.getElementById({{.workcenter}}), {
    plugins: [ChartDataLabels],
    type: 'bar',
    data: {
      labels: {{.labels}},
      datasets: [
      {
        datalabels: {
          labels: {
            title: null
          },
        },
        label: {{.workcenter}},
        data: {{.quanity}},
        yAxisID: 'y',
        pointStyle: 'rect',
        backgroundColor: 'rgba(75, 192, 192, 0.2)',
        borderColor: 'rgb(75, 192, 192)',
      },
      {
        datalabels: {
          anchor: 'end',
          labels: {
            value: {
              color: 'green'
            }
          }
        },
        label: 'Efficiency(%)',
        data: {{.efficiency}},
        yAxisID: 'y1',
        type: "line",
        pointStyle: 'line',
        pointRadius: 0,
        borderWidth: 1,
        backgroundColor: 'red',
        borderColor: 'red',
      },
      {
        datalabels: {
          labels: {
            title: null
          }
        },
        label: 'Target',
        data: {{.targets}},
        yAxisID: 'y',
        type: "line",
        pointStyle: 'line',
        pointRadius: 0,
        tension: 0.1,
        borderWidth: 1,
        backgroundColor: 'blue',
        borderColor: 'blue',
      },
    ]
    },
    options: {
      plugins: {
        title: {text: {{.workcenter}}, display: true},
        legend: {
          labels: {
            usePointStyle: true,
          },
        }
      },
      responsive: true,
      scales: {
        x: {
          grid: { display: false, },
        },
        y: {
          beginAtZero: true,
          grid: { display: false, },
        },
        y1: {
          type: 'linear',
          display: false,
          position: 'right',
          grid: {
            drawOnChartArea: false,
            display: false,
          },
        },
      },
    },
  });
</script>